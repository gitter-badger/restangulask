<div ng-controller="DetailsController as detail">

  <div ng-if="detail.load" ng-include="root.templateDir+'loader.html'"></div>
  <div ng-if='detail.data' layout="column">
      <div ng-hide="detail.data.id"> No data... </div>

 <div layout="column" layout-padding>
    <h3> NOTICE DETAILLEE:
    <b>
        {{detail.refinedData["Extrait"]["Numero de l'extrait"]}}
    </b>
    </hr>
    </h3>
 </div>

  <div layout="row" layout-padding>
  <div flex="65" ng-if="detail.data.id">

      <div>
        <span>
        <b>Fête</b>: {{detail.refinedData["Fête"]["Titre abrégé"]}}
        <br>
        <b>Source</b>: {{detail.refinedData["Source"]["Titre abrégé"]}}
        </span>
      </div>

      <div layout="row">
          <md-content flex="20" layout-padding layout-wrap
            ng-if="detail.previous.link">
                <a href layout="row" layout-align="center center"
                    ui-sref="public.details({id: detail.previous.link})">
                    <i class="material-icons">keyboard_arrow_left</i>
                    {{detail.previous.text}}
                </a>
          </md-content>
          <div flex="60"></div>
          <md-content flex="20" layout-padding layout-wrap
            ng-if="detail.next.link">
                <a href layout="row" layout-align="center center"
                    ui-sref="public.details({id: detail.next.link})">
                    {{detail.next.text}}
                    <i class="material-icons">keyboard_arrow_right</i>
                </a>
          </md-content>
      </div>

      <div layout="row">

        <div flex=50 style="text-align: center;">
            <a ng-if="detail.data.images[0].filename"
                href="/zoom/{{ detail.data.id }}/{{ detail.data.images[0].code }}"
                target="_blank">
             <img tooltipped data-position="right" data-delay="50"
                data-tooltip="Click to zoom this image"
                height=500
                src="/static/uploads/{{detail.data.images[0].filename}}">
            </a>
            <div ng-if="!detail.data.images[0].filename">
                Image indisponible
                <br>
                <i class="material-icons">collections</i>
            </div>
        </div>
        <div flex=50
            layout="row" layout-align="center center"
            ng-bind-html="detail.test"></div>
      </div>
  </div> <!-- END OF ROW -->

  <div flex="5"></div>

  <div flex="30" layout="column" layout="center end"
    class="rounder nospaces fullheight teal lighten-4">
        <h4> DÉTAILS DE LA PAGE </h4>

<div class="nospaces"
    ng-repeat="(name, rows) in detail.refinedData"
  ng-if="name !== 'undefined' && name != 'Extrait'">

    <table class="smalltext">

     <thead> <tr> <td colspan="2">
        <h5> <u> {{name}} </u> </h5>
        </td> </tr> </thead>
      <tbody>
        <tr ng-if='value' ng-repeat='(key, value) in rows'>
          <th width="35%"> {{ key }} </th>
          <td ng-if="name == 'Extrait' && key.indexOf('ero de l') >= 0">
            <b> <i>{{ value }}</i> </b> </td>
          <td ng-if="!(name == 'Extrait' && key.indexOf('ero de l') >= 0)"> {{ value }} </td>
        </tr>
      </tbody>
    </table>

</div>


      </div>
  </div> <!-- END OF COLUMN -->

 </div> <!-- END OF DATA -->
</div>
